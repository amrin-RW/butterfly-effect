{
  "version": 3,
  "sources": ["../../../node_modules/zustand/vanilla.js", "../src/index.ts", "../src/main/editable.tsx", "../src/main/store.ts", "../../../node_modules/react-merge-refs/src/index.tsx", "../src/main/useInvalidate.ts", "../src/main/SheetProvider.tsx", "../src/main/editableFactoryConfigUtils.ts", "../src/main/defaultEditableFactoryConfig.ts", "../src/main/utils.ts", "../src/main/RefreshSnapshot.tsx"],
  "sourcesContent": ["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction create(createState) {\n  var state;\n  var listeners = new Set();\n\n  var setState = function setState(partial, replace) {\n    var nextState = typeof partial === 'function' ? partial(state) : partial;\n\n    if (nextState !== state) {\n      var _previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach(function (listener) {\n        return listener(state, _previousState);\n      });\n    }\n  };\n\n  var getState = function getState() {\n    return state;\n  };\n\n  var subscribeWithSelector = function subscribeWithSelector(listener, selector, equalityFn) {\n    if (selector === void 0) {\n      selector = getState;\n    }\n\n    if (equalityFn === void 0) {\n      equalityFn = Object.is;\n    }\n\n    var currentSlice = selector(state);\n\n    function listenerToAdd() {\n      var nextSlice = selector(state);\n\n      if (!equalityFn(currentSlice, nextSlice)) {\n        var _previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, _previousSlice);\n      }\n    }\n\n    listeners.add(listenerToAdd);\n    return function () {\n      return listeners.delete(listenerToAdd);\n    };\n  };\n\n  var subscribe = function subscribe(listener, selector, equalityFn) {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n\n    listeners.add(listener);\n    return function () {\n      return listeners.delete(listener);\n    };\n  };\n\n  var destroy = function destroy() {\n    return listeners.clear();\n  };\n\n  var api = {\n    setState: setState,\n    getState: getState,\n    subscribe: subscribe,\n    destroy: destroy\n  };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nexports.default = create;\n", "export {default as editable} from './main/editable'\nexport type {EditableState, BindFunction} from './main/store'\n/**\n * This is a private API that's exported so that `@theatre/r3f/extension`\n * and `@theatre/r3f` can talk to one another. This API _could_ change\n * between patch releases, so please don't build on it :)\n *\n * @internal\n */\nexport {\n  editorStore as ____private_editorStore,\n  allRegisteredObjects as __private_allRegisteredObjects,\n} from './main/store'\n/**\n * This is a private API that's exported so that `@theatre/r3f/extension`\n * and `@theatre/r3f` can talk to one another. This API _could_ change\n * between patch releases, so please don't build on it :)\n *\n * @internal\n */\nexport {makeStoreKey as __private_makeStoreKey} from './main/utils'\n\nexport {default as SheetProvider, useCurrentSheet} from './main/SheetProvider'\nexport {refreshSnapshot} from './main/utils'\nexport {default as RefreshSnapshot} from './main/RefreshSnapshot'\n", "import type {ComponentProps, ComponentType, RefAttributes} from 'react'\nimport React, {forwardRef, useLayoutEffect, useRef, useState} from 'react'\nimport {allRegisteredObjects, editorStore} from './store'\nimport mergeRefs from 'react-merge-refs'\nimport type {ISheetObject} from '@theatre/core'\nimport useInvalidate from './useInvalidate'\nimport {useCurrentSheet} from './SheetProvider'\nimport defaultEditableFactoryConfig from './defaultEditableFactoryConfig'\nimport type {EditableFactoryConfig} from './editableFactoryConfigUtils'\nimport {makeStoreKey} from './utils'\nimport type {$FixMe} from '../types'\n\nconst createEditable = <Keys extends keyof JSX.IntrinsicElements>(\n  config: EditableFactoryConfig,\n) => {\n  const editable = <\n    T extends ComponentType<any> | Keys | 'primitive',\n    U extends T extends Keys ? T : Keys,\n  >(\n    Component: T,\n    type: T extends 'primitive' ? null : U,\n  ) => {\n    type Props = Omit<ComponentProps<T>, 'visible'> & {\n      uniqueName: string\n      visible?: boolean | 'editor'\n      additionalProps?: $FixMe\n      objRef?: $FixMe\n    } & (T extends 'primitive'\n        ? {\n            editableType: U\n          }\n        : {}) &\n      RefAttributes<JSX.IntrinsicElements[U]>\n\n    return forwardRef(\n      (\n        {\n          uniqueName,\n          visible,\n          editableType,\n          additionalProps,\n          objRef,\n          ...props\n        }: Props,\n        ref,\n      ) => {\n        const actualType = type ?? editableType\n\n        const objectRef = useRef<JSX.IntrinsicElements[U]>()\n\n        const sheet = useCurrentSheet()!\n\n        const storeKey = makeStoreKey(sheet, uniqueName)\n\n        const [sheetObject, setSheetObject] = useState<\n          undefined | ISheetObject<$FixMe>\n        >(undefined)\n\n        const invalidate = useInvalidate()\n\n        useLayoutEffect(() => {\n          if (!sheet) return\n          const sheetObject = sheet.object(\n            uniqueName,\n            Object.assign(\n              {\n                ...additionalProps,\n              },\n              // @ts-ignore\n              ...Object.values(config[actualType].props).map(\n                // @ts-ignore\n                (value) => value.type,\n              ),\n            ),\n          )\n          allRegisteredObjects.add(sheetObject)\n          setSheetObject(sheetObject)\n\n          if (objRef) objRef!.current = sheetObject\n\n          editorStore.getState().addEditable(storeKey, {\n            type: actualType,\n            sheetObject,\n            visibleOnlyInEditor: visible === 'editor',\n            // @ts-ignore\n            objectConfig: config[actualType],\n          })\n        }, [sheet, storeKey])\n\n        // store initial values of props\n        useLayoutEffect(() => {\n          if (!sheetObject) return\n          sheetObject!.initialValue = Object.fromEntries(\n            // @ts-ignore\n            Object.entries(config[actualType].props).map(\n              // @ts-ignore\n              ([key, value]) => [key, value.parse(props)],\n            ),\n          )\n        }, [\n          sheetObject,\n          // @ts-ignore\n          ...Object.keys(config[actualType].props).map(\n            // @ts-ignore\n            (key) => props[key],\n          ),\n        ])\n\n        // subscribe to prop changes from theatre\n        useLayoutEffect(() => {\n          if (!sheetObject) return\n\n          const object = objectRef.current!\n\n          const setFromTheatre = (newValues: any) => {\n            // @ts-ignore\n            Object.entries(config[actualType].props).forEach(\n              // @ts-ignore\n              ([key, value]) => value.apply(newValues[key], object),\n            )\n            // @ts-ignore\n            config[actualType].updateObject?.(object)\n            invalidate()\n          }\n\n          setFromTheatre(sheetObject.value)\n\n          const untap = sheetObject.onValuesChange(setFromTheatre)\n\n          return () => {\n            untap()\n          }\n        }, [sheetObject])\n\n        return (\n          // @ts-ignore\n          <Component\n            ref={mergeRefs([objectRef, ref])}\n            {...props}\n            visible={visible !== 'editor' && visible}\n            userData={{\n              __editable: true,\n              __storeKey: storeKey,\n            }}\n          />\n        )\n      },\n    )\n  }\n\n  const extensions = {\n    ...Object.fromEntries(\n      Object.keys(config).map((key) => [\n        key,\n        // @ts-ignore\n        editable(key, key),\n      ]),\n    ),\n    primitive: editable('primitive', null),\n  } as unknown as {\n    [Property in Keys]: React.ForwardRefExoticComponent<\n      React.PropsWithoutRef<\n        Omit<JSX.IntrinsicElements[Property], 'visible'> & {\n          uniqueName: string\n          visible?: boolean | 'editor'\n          additionalProps?: $FixMe\n          objRef?: $FixMe\n        } & React.RefAttributes<JSX.IntrinsicElements[Property]>\n      >\n    >\n  }\n\n  return Object.assign(editable, extensions)\n}\n\nconst editable = createEditable<keyof typeof defaultEditableFactoryConfig>(\n  defaultEditableFactoryConfig,\n)\n\nexport default editable\n", "import type {StateCreator} from 'zustand'\nimport create from 'zustand/vanilla'\nimport type {Object3D, Scene, WebGLRenderer} from 'three'\nimport {Group} from 'three'\nimport type {ISheetObject} from '@theatre/core'\nimport type {ObjectConfig} from './editableFactoryConfigUtils'\n\nexport type TransformControlsMode = 'translate' | 'rotate' | 'scale'\nexport type TransformControlsSpace = 'world' | 'local'\nexport type ViewportShading = 'wireframe' | 'flat' | 'solid' | 'rendered'\n\nexport type BaseSheetObjectType = ISheetObject<any>\n\nexport const allRegisteredObjects = new WeakSet<BaseSheetObjectType>()\n\nexport interface Editable<T> {\n  type: string\n  sheetObject: ISheetObject<any>\n  objectConfig: ObjectConfig<T>\n  visibleOnlyInEditor: boolean\n}\n\nexport type EditableSnapshot<T extends Editable<any> = Editable<any>> = {\n  proxyObject?: Object3D | null\n} & T\n\nexport interface SerializedEditable {\n  type: string\n}\n\nexport interface EditableState {\n  editables: Record<string, SerializedEditable>\n}\n\nexport type EditorStore = {\n  scene: Scene | null\n  gl: WebGLRenderer | null\n  helpersRoot: Group\n  editables: Record<string, Editable<any>>\n  // this will come in handy when we start supporting multiple canvases\n  canvasName: string\n  sceneSnapshot: Scene | null\n  editablesSnapshot: Record<string, EditableSnapshot> | null\n\n  init: (scene: Scene, gl: WebGLRenderer) => void\n\n  addEditable: (uniqueName: string, editable: Editable<any>) => void\n  createSnapshot: () => void\n  setSnapshotProxyObject: (\n    proxyObject: Object3D | null,\n    uniqueName: string,\n  ) => void\n}\n\nconst config: StateCreator<EditorStore> = (set, get) => {\n  return {\n    sheet: null,\n    editorObject: null,\n    scene: null,\n    gl: null,\n    helpersRoot: new Group(),\n    editables: {},\n    canvasName: 'default',\n    sceneSnapshot: null,\n    editablesSnapshot: null,\n    initialEditorCamera: {},\n\n    init: (scene, gl) => {\n      set({\n        scene,\n        gl,\n      })\n\n      // Create a snapshot, so that if the editor is already open, it gets refreshed\n      // when the scene is initialized\n      get().createSnapshot()\n    },\n\n    addEditable: (uniqueName, editable) => {\n      set((state) => ({\n        editables: {\n          ...state.editables,\n          [uniqueName]: editable,\n        },\n      }))\n    },\n\n    createSnapshot: () => {\n      set((state) => ({\n        sceneSnapshot: state.scene?.clone() ?? null,\n        editablesSnapshot: state.editables,\n      }))\n    },\n\n    setSnapshotProxyObject: (proxyObject, uniqueName) => {\n      set((state) => ({\n        editablesSnapshot: {\n          ...state.editablesSnapshot,\n          [uniqueName]: {\n            ...state.editablesSnapshot![uniqueName],\n            proxyObject,\n          },\n        },\n      }))\n    },\n  }\n}\n\nexport const editorStore = create<EditorStore>(config)\n\nexport type BindFunction = (options: {\n  allowImplicitInstancing?: boolean\n  gl: WebGLRenderer\n  scene: Scene\n}) => void\n\nexport const bindToCanvas: BindFunction = ({gl, scene}) => {\n  const init = editorStore.getState().init\n  init(scene, gl)\n}\n", "import * as React from \"react\";\n\nexport default function mergeRefs<T = any>(\n  refs: Array<React.MutableRefObject<T> | React.LegacyRef<T>>\n): React.RefCallback<T> {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        (ref as React.MutableRefObject<T | null>).current = value;\n      }\n    });\n  };\n}\n", "import {useThree} from '@react-three/fiber'\n\nexport default function useInvalidate() {\n  return useThree(({invalidate}) => invalidate)\n}\n", "import type {ReactNode} from 'react'\nimport React, {\n  createContext,\n  useContext,\n  useEffect,\n  useLayoutEffect,\n} from 'react'\nimport {useThree} from '@react-three/fiber'\nimport type {ISheet} from '@theatre/core'\nimport {bindToCanvas} from './store'\n\nconst ctx = createContext<{sheet: ISheet}>(undefined!)\n\nconst useWrapperContext = (): {sheet: ISheet} => {\n  const val = useContext(ctx)\n  if (!val) {\n    throw new Error(\n      `No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider`,\n    )\n  }\n  return val\n}\n\nexport const useCurrentSheet = (): ISheet | undefined => {\n  return useWrapperContext().sheet\n}\n\nconst SheetProvider: React.FC<{\n  sheet: ISheet\n  children: ReactNode\n}> = ({sheet, children}) => {\n  const {scene, gl} = useThree((s) => ({scene: s.scene, gl: s.gl}))\n\n  useEffect(() => {\n    if (!sheet || sheet.type !== 'Theatre_Sheet_PublicAPI') {\n      throw new Error(`sheet in <Wrapper sheet={sheet}> has an invalid value`)\n    }\n  }, [sheet])\n\n  useLayoutEffect(() => {\n    bindToCanvas({gl, scene})\n  }, [scene, gl])\n\n  return <ctx.Provider value={{sheet}}>{children}</ctx.Provider>\n}\n\nexport default SheetProvider\n", "import type {UnknownShorthandCompoundProps} from '@theatre/core'\nimport {types} from '@theatre/core'\nimport type {Object3D} from 'three'\nimport type {IconID} from '../extension/icons'\nimport {Color} from 'three'\n\nexport type Helper = Object3D & {\n  update?: () => void\n}\ntype PropConfig<T> = {\n  parse: (props: Record<string, any>) => T\n  apply: (value: T, object: any) => void\n  type: UnknownShorthandCompoundProps\n}\ntype Props = Record<string, PropConfig<any>>\ntype Meta<T> = {\n  useTransformControls: boolean\n  updateObject?: (object: T) => void\n  icon: IconID\n  dimensionless?: boolean\n  createHelper?: (object: T) => Helper\n}\nexport type ObjectConfig<T> = {props: Props} & Meta<T>\nexport type EditableFactoryConfig = Partial<\n  Record<keyof JSX.IntrinsicElements, ObjectConfig<any>>\n>\n\ntype Vector3 = {\n  x: number\n  y: number\n  z: number\n}\n\nexport const createVector = (components?: [number, number, number]) => {\n  return components\n    ? {x: components[0], y: components[1], z: components[2]}\n    : {\n        x: 0,\n        y: 0,\n        z: 0,\n      }\n}\n\nexport const createVectorPropConfig = (\n  key: string,\n  defaultValue = createVector(),\n  {nudgeMultiplier = 0.01} = {},\n): PropConfig<Vector3> => ({\n  parse: (props) => {\n    const vector = props[key]\n      ? Array.isArray(props[key])\n        ? createVector(props[key] as any)\n        : {\n            x: props[key].x,\n            y: props[key].y,\n            z: props[key].z,\n          }\n      : defaultValue\n    ;(['x', 'y', 'z'] as const).forEach((axis) => {\n      if (props[`${key}-${axis}` as any])\n        vector[axis] = props[`${key}-${axis}` as any]\n    })\n    return vector\n  },\n  apply: (value, object) => {\n    object[key].set(value.x, value.y, value.z)\n  },\n  type: {\n    [key]: {\n      x: types.number(defaultValue.x, {nudgeMultiplier}),\n      y: types.number(defaultValue.y, {nudgeMultiplier}),\n      z: types.number(defaultValue.z, {nudgeMultiplier}),\n    },\n  },\n})\n\nexport const createNumberPropConfig = (\n  key: string,\n  defaultValue: number = 0,\n  {nudgeMultiplier = 0.01} = {},\n): PropConfig<number> => ({\n  parse: (props) => {\n    return props[key] ?? defaultValue\n  },\n  apply: (value, object) => {\n    object[key] = value\n  },\n  type: {\n    [key]: types.number(defaultValue, {nudgeMultiplier}),\n  },\n})\n\nexport type Rgba = {\n  r: number\n  g: number\n  b: number\n  a: number\n}\n\nexport const createColorPropConfig = (\n  key: string,\n  defaultValue = new Color(0, 0, 0),\n): PropConfig<Rgba> => ({\n  parse: (props) => {\n    return {...(props[key] ?? defaultValue), a: 1}\n  },\n  apply: (value, object) => {\n    object[key].setRGB(value.r, value.g, value.b)\n  },\n  type: {\n    [key]: types.rgba({...defaultValue, a: 1}),\n  },\n})\n\nexport const extendObjectProps = <T extends {props: {}}>(\n  objectConfig: T,\n  extension: Props,\n) => ({\n  ...objectConfig,\n  props: {...objectConfig.props, ...extension},\n})\n", "import type {EditableFactoryConfig} from './editableFactoryConfigUtils'\nimport {\n  createColorPropConfig,\n  createNumberPropConfig,\n  createVector,\n  createVectorPropConfig,\n  extendObjectProps,\n} from './editableFactoryConfigUtils'\nimport type {\n  DirectionalLight,\n  Object3D,\n  OrthographicCamera,\n  PerspectiveCamera,\n  PointLight,\n  SpotLight,\n} from 'three'\nimport {\n  BoxHelper,\n  CameraHelper,\n  DirectionalLightHelper,\n  PointLightHelper,\n  SpotLightHelper,\n} from 'three'\n\nconst baseObjectConfig = {\n  props: {\n    position: createVectorPropConfig('position'),\n    rotation: createVectorPropConfig('rotation'),\n    scale: createVectorPropConfig('scale', createVector([1, 1, 1])),\n  },\n  useTransformControls: true,\n  icon: 'cube' as const,\n  createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\n}\n\nconst baseLightConfig = {\n  ...extendObjectProps(baseObjectConfig, {\n    intensity: createNumberPropConfig('intensity', 1),\n    distance: createNumberPropConfig('distance'),\n    decay: createNumberPropConfig('decay'),\n  }),\n  dimensionless: true,\n}\n\nconst baseCameraConfig = {\n  ...extendObjectProps(baseObjectConfig, {\n    near: createNumberPropConfig('near', 0.1, {nudgeMultiplier: 0.1}),\n    far: createNumberPropConfig('far', 2000, {nudgeMultiplier: 0.1}),\n  }),\n  updateObject: (camera: PerspectiveCamera | OrthographicCamera) => {\n    camera.updateProjectionMatrix()\n  },\n  icon: 'camera' as const,\n  dimensionless: true,\n  createHelper: (camera: PerspectiveCamera) => new CameraHelper(camera),\n}\n\nconst selectionColor = '#40AAA4'\n\nconst defaultEditableFactoryConfig = {\n  group: {\n    ...baseObjectConfig,\n    icon: 'collection' as const,\n    createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\n  },\n  mesh: {\n    ...baseObjectConfig,\n    icon: 'cube' as const,\n    createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\n  },\n  spotLight: {\n    ...extendObjectProps(baseLightConfig, {\n      angle: createNumberPropConfig('angle', 0, {nudgeMultiplier: 0.001}),\n      penumbra: createNumberPropConfig('penumbra', 0, {nudgeMultiplier: 0.001}),\n    }),\n    icon: 'spotLight' as const,\n    createHelper: (light: SpotLight) =>\n      new SpotLightHelper(light, selectionColor),\n  },\n  directionalLight: {\n    ...extendObjectProps(baseObjectConfig, {\n      intensity: createNumberPropConfig('intensity', 1),\n    }),\n    icon: 'sun' as const,\n    dimensionless: true,\n    createHelper: (light: DirectionalLight) =>\n      new DirectionalLightHelper(light, 1, selectionColor),\n  },\n  pointLight: {\n    ...baseLightConfig,\n    icon: 'lightBulb' as const,\n    createHelper: (light: PointLight) =>\n      new PointLightHelper(light, 1, selectionColor),\n  },\n  perspectiveCamera: extendObjectProps(baseCameraConfig, {\n    fov: createNumberPropConfig('fov', 50, {nudgeMultiplier: 0.1}),\n    zoom: createNumberPropConfig('zoom', 1),\n  }),\n  orthographicCamera: baseCameraConfig,\n  points: baseObjectConfig,\n  line: baseObjectConfig,\n  lineLoop: baseObjectConfig,\n  lineSegments: baseObjectConfig,\n  fog: {\n    props: {\n      color: createColorPropConfig('color'),\n      near: createNumberPropConfig('near', 1, {nudgeMultiplier: 0.1}),\n      far: createNumberPropConfig('far', 1000, {nudgeMultiplier: 0.1}),\n    },\n    useTransformControls: false,\n    icon: 'cloud' as const,\n  },\n}\n\n// Assert that the config is indeed of EditableFactoryConfig without actually\n// forcing it to that type so that we can pass the real type to the editable factory\ndefaultEditableFactoryConfig as EditableFactoryConfig\n\nexport default defaultEditableFactoryConfig\n", "import {editorStore} from './store'\nimport type {ISheet} from '@theatre/core'\n\nexport const refreshSnapshot = editorStore.getState().createSnapshot\n\nexport const makeStoreKey = (sheet: ISheet, name: string) =>\n  `${sheet.address.sheetId}:${sheet.address.sheetInstanceId}:${name}`\n", "import React, {useEffect} from 'react'\nimport {refreshSnapshot} from './utils'\n\n/**\n * Putting this element in a suspense tree makes sure the snapshot editor\n * gets refreshed once the tree renders.\n *\n * Alternatively you can use {@link refreshSnapshot}\n *\n * @example\n * Usage\n * ```jsx\n * <Suspense fallback={null}>\n *  <RefreshSnapshot />\n *  <Model url={sceneGLB} />\n * </Suspense>\n * ```\n */\nconst RefreshSnapshot: React.FC<{}> = () => {\n  useEffect(() => {\n    setTimeout(() => {\n      refreshSnapshot()\n    })\n  }, [])\n  return <></>\n}\n\nexport default RefreshSnapshot\n"],
  "mappings": "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",
  "names": []
}
